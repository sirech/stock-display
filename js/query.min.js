var QUERY=function(){function g(a){if(a=="^DJI")a="INDU";return a}var h={name:"n",symbol:"s",last_price:"l1",last_time:"t1",percent_change:"p2",change:"c1"};return{options:function(){return $.map(arguments,function(a){return h[a]}).join("")},parseCsv:function(a,b){var c,e,d,f;b=b||",";c=RegExp("(\\"+b+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+b+"\\r\\n]*))","gi");for(e=[[]];d=c.exec(a);){f=d[1];f.length&&f!==b&&e.push([]);d=d[2]?d[2].replace(RegExp('""',"g"),'"'):d[3];e[e.length-1].push(d)}return e},
build:function(a,b){return"http://download.finance.yahoo.com/d/quotes.csv?s="+$.map(a,function(c){if(typeof c=="string")return g(c);else if(typeof c=="object"&&c.hasOwnProperty("id"))return g(c.id);else throw{name:"TypeError",message:"Object cannot be interpreted as a stock"};}).join("+")+"&f="+b},send:function(a,b){$.get(a,b)}}}();
